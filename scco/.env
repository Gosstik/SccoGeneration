# Predefined environment variables: https://docs.docker.com/compose/environment-variables/envvars/
# Syntax for environment files: https://docs.docker.com/compose/environment-variables/env-file/

################################################################################
#### Change to create new service with the same docker-compose file.
################################################################################

COMPOSE_PROJECT_NAME=scco_debug
COMPOSE_FILE=docker-compose.yml
#COMPOSE_FILE=docker-compose-debug.yml
COMPOSE_PROFILES=prod

################################################################################
#### Set up on server.
################################################################################

# Network where RabbitMQ is working (services will enable to it).
RMQ_NET=scco_rmq_network

# Services use that network alias to contact to RabbitMQ.
RMQ_NET_ALIAS=rabbitmq_alias

## Path to volume where .csv file is stored.
## Bot sends message relative to that path.
#OUTSIDE_CSV_VOLUME="../outside/outside_volume"

# Parser bot sends .csv files.
PARSER_BOT_NET_ALIAS="parser_bot"
PARSER_BOT_EXCHANGE="${PARSER_BOT_NET_ALIAS}_exchange"
PARSER_BOT_QUEUE="${PARSER_BOT_NET_ALIAS}_queue"
PARSER_BOT_ROUTING_KEY="${PARSER_BOT_NET_ALIAS}_rk"

# Service that accepts generated pdf files.
GENERATED_OFFERS_NET_ALIAS="generated_offers"
GENERATED_OFFERS_EXCHANGE="${GENERATED_OFFERS_NET_ALIAS}_exchange"
GENERATED_OFFERS_QUEUE="${GENERATED_OFFERS_NET_ALIAS}_queue"
GENERATED_OFFERS_ROUTING_KEY="${GENERATED_OFFERS_NET_ALIAS}_rk"

################################################################################
#### Internal variables.
################################################################################

## Network for inner services communication (e.g. with database).
#INT_NET="${COMPOSE_PROJECT_NAME}_internal_network"
#
## Folder inside data_preprocessing_microservice docker container where
## it can access .csv file.
#OUTSIDE_CSV_VOLUME_DOCKER_FOLDER="/volume/"

# Common microservices exchange.
INNER_EXCHANGE="${COMPOSE_PROJECT_NAME}_exchange"

# data_preprocessing
DATA_PREPROCESSING_FOLDER="data_preprocessing"
DATA_PREPROCESSING_NET_ALIAS="${COMPOSE_PROJECT_NAME}_${DATA_PREPROCESSING_FOLDER}"
DATA_PREPROCESSING_EXCHANGE="${COMPOSE_PROJECT_NAME}_${DATA_PREPROCESSING_FOLDER}_exchange"
DATA_PREPROCESSING_QUEUE="${COMPOSE_PROJECT_NAME}_${DATA_PREPROCESSING_FOLDER}_queue"
DATA_PREPROCESSING_ROUTING_KEY="${COMPOSE_PROJECT_NAME}_${DATA_PREPROCESSING_FOLDER}_rk"

PARSER_BOT_CSV_VOLUME_NAME="./parser_bot_csv"
PARSER_BOT_CSV_VOLUME_PATH="/data/parser_bot_csv"

UNPROCESSED_PARSER_BOT_CSV_VOLUME_NAME="./unprocessed_parser_bot_csv"
UNPROCESSED_PARSER_BOT_CSV_VOLUME_PATH="/data/unprocessed_parser_bot_csv"

# ml_generation
ML_GENERATION_FOLDER="ml_generation"
ML_GENERATION_NET_ALIAS="${COMPOSE_PROJECT_NAME}_${ML_GENERATION_FOLDER}"
ML_GENERATION_EXCHANGE="${INNER_EXCHANGE}"
ML_GENERATION_QUEUE="${COMPOSE_PROJECT_NAME}_${ML_GENERATION_FOLDER}_queue"
ML_GENERATION_ROUTING_KEY="${COMPOSE_PROJECT_NAME}_${ML_GENERATION_FOLDER}_rk"

# db_functional_service
DB_FUNCTIONAL_SERVICE_FOLDER="db_functional_service"
DB_FUNCTIONAL_SERVICE_NET_ALIAS="${COMPOSE_PROJECT_NAME}_${DB_FUNCTIONAL_SERVICE_FOLDER}"
DB_FUNCTIONAL_SERVICE_EXCHANGE="${INNER_EXCHANGE}"
DB_FUNCTIONAL_SERVICE_QUEUE="${COMPOSE_PROJECT_NAME}_${DB_FUNCTIONAL_SERVICE_FOLDER}_queue"
DB_FUNCTIONAL_SERVICE_ROUTING_KEY="${COMPOSE_PROJECT_NAME}_${DB_FUNCTIONAL_SERVICE_FOLDER}_rk"

# customer_creator
CUSTOMER_CREATOR_FOLDER="customer_creator"
CUSTOMER_CREATOR_NET_ALIAS="${COMPOSE_PROJECT_NAME}_${CUSTOMER_CREATOR_FOLDER}"
CUSTOMER_CREATOR_EXCHANGE="${INNER_EXCHANGE}"
CUSTOMER_CREATOR_QUEUE="${COMPOSE_PROJECT_NAME}_${CUSTOMER_CREATOR_FOLDER}_queue"
CUSTOMER_CREATOR_ROUTING_KEY="${COMPOSE_PROJECT_NAME}_${CUSTOMER_CREATOR_FOLDER}_rk"

# pdf_generation
PDF_GENERATION_FOLDER="pdf_generation"
PDF_GENERATION_NET_ALIAS="${COMPOSE_PROJECT_NAME}_${PDF_GENERATION_FOLDER}"
PDF_GENERATION_EXCHANGE="${INNER_EXCHANGE}"
PDF_GENERATION_QUEUE="${COMPOSE_PROJECT_NAME}_${PDF_GENERATION_FOLDER}_queue"
PDF_GENERATION_ROUTING_KEY="${COMPOSE_PROJECT_NAME}_${PDF_GENERATION_FOLDER}_rk"

# postgres (fs - functional service)
POSTGRES_FS_ALIAS="${COMPOSE_PROJECT_NAME}_postgres_fs"
POSTGRES_FS_VOLUME_NAME="${COMPOSE_PROJECT_NAME}_postgres_fs_volume"
#PGADMIN_VOLUME_NAME="${COMPOSE_PROJECT_NAME}_fs_pgadmin_volume"
POSTGRES_FS_NETWORK_NAME="${COMPOSE_PROJECT_NAME}_postgres_fs_network"

PDF_GENERATION_VOLUME_NAME="${COMPOSE_PROJECT_NAME}_generated_offers"
