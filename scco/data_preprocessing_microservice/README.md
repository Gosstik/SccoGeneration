# Микросервис предобработки

Сервис получает сообщения, по которым будут генерироваться КП, затем для каждого сообщения:
1. Если уже приходило такое же сообщение, игнорирует его
2. Записывает сообщение в БД через CRUD-сервис со статусом "получено"
3. Отправляет сообщение в ML-сервис

# Rabbit-интерфейс сервиса

## Сообщение от бота-парсера сообщений

Формат данных: строка, содержащая путь к csv-файлу, в котором лежат сообщения.

Столбцы: `Channel_name, Sender_id, Message, Message_date`.

Сообщение отправляется через безымянный exchange в очередь с названием `in_queue` из config-файла.

К строке добавляется префикс `input_csv_prefix` из config-файла.

## Сообщение в ML-сервис

Формат данных: одна строка из csv - одно сообщение. Столбцы те же.

Сообщение отправляется через безымянный exchange в очередь с названием `out_queue` из config-файла.
